
mysql> source database7.sql
--------------
SELECT RANK_NAME,RANK_DESC,LO_POINT,HI_POINT
FROM RANKPOINT
--------------

+--------------------+--------------------------------------------------------------------------------------+----------+----------+
| RANK_NAME          | RANK_DESC                                                                            | LO_POINT | HI_POINT |
+--------------------+--------------------------------------------------------------------------------------+----------+----------+
| ビギナー           | 仕事内容が未習得の従業員。ベテラン以上と一緒に仕事を行う                             |        0 |      500 |
| ミドル             | ピークタイム以外であれば仕事を1人でこなせる                                          |      501 |     2000 |
| ベテラン           | 見本となる勤務が出来てビギナーに仕事を教えることが出来る                             |     2001 |     4000 |
| エキスパート       | ピークタイム時に主軸となれる人材                                                     |     4001 |     8000 |
| マスター           | 仕事に精通しており最高峰のサービスを提供できる人材                                   |     8001 |     9999 |
+--------------------+--------------------------------------------------------------------------------------+----------+----------+
5 rows in set (0.00 sec)

--------------
SELECT EMPLOYEE.EMP_NO, EMPLOYEE.ENAME, EMPLOYEE.RANK_POINT, RANKPOINT.RANK_NAME
FROM EMPLOYEE
JOIN RANKPOINT ON EMPLOYEE.RANK_POINT BETWEEN RANKPOINT.LO_POINT AND RANKPOINT.HI_POINT
WHERE RANKPOINT.LO_POINT >= 2001
--------------

+--------+--------------+------------+--------------+
| EMP_NO | ENAME        | RANK_POINT | RANK_NAME    |
+--------+--------------+------------+--------------+
| 00001  | 小林友治     |       2500 | ベテラン     |
| 00002  | 小林圭輔     |       2500 | ベテラン     |
| 00006  | 村上信五     |       2500 | ベテラン     |
| 00016  | 升野英知     |       2500 | ベテラン     |
+--------+--------------+------------+--------------+
4 rows in set (0.00 sec)

--------------
SELECT STORE.SNAME, STORE.STATUS, EMPLOYEE.EMP_NO, EMPLOYEE.ENAME, EMPLOYEE.JOB
FROM EMPLOYEE
JOIN STORE ON EMPLOYEE.WORK_STORE = STORE.STORE_NO
WHERE STORE.HOLIDAY = ('土日')
--------------

+--------------+-----------+--------+-----------------+--------+
| SNAME        | STATUS    | EMP_NO | ENAME           | JOB    |
+--------------+-----------+--------+-----------------+--------+
| 生駒店       | 閉店済    | 00001  | 小林友治        | 店長   |
| 阿倍野店     | 営業中    | 00011  | 秋元真夏        | 調理   |
| 阿倍野店     | 営業中    | 00012  | 生田絵梨花      | 配達   |
| 阿倍野店     | 営業中    | 00014  | 白石麻衣        | 調理   |
| 阿倍野店     | 営業中    | 00015  | 高山一実        | 受付   |
| 阿倍野店     | 営業中    | 00016  | 升野英知        | 店長   |
| 阿倍野店     | 営業中    | 00017  | 松村沙友里      | 配達   |
+--------------+-----------+--------+-----------------+--------+
7 rows in set (0.00 sec)

--------------
SELECT STORE.PREFECTURES AS '店舗エリア', COUNT(EMPLOYEE.EMP_NO) AS '人数'
FROM STORE
LEFT JOIN EMPLOYEE ON STORE.STORE_NO = EMPLOYEE.WORK_STORE
GROUP BY STORE.PREFECTURES
ORDER BY COUNT(EMPLOYEE.EMP_NO)
--------------

+-----------------+--------+
| 店舗エリア      | 人数   |
+-----------------+--------+
| 奈良県          |      1 |
| 大阪府          |     15 |
+-----------------+--------+
2 rows in set (0.00 sec)

--------------
SELECT * FROM RECIPE
--------------

+------------+-------------+----------+
| product_no | material_no | quantity |
+------------+-------------+----------+
| 0001       | 00001       |        1 |
| 0001       | 00002       |        2 |
| 0001       | 00012       |        1 |
| 0001       | 00014       |        3 |
| 0001       | 00020       |        1 |
| 0002       | 00001       |        1 |
| 0002       | 00006       |        3 |
| 0002       | 00007       |        3 |
| 0002       | 00010       |        1 |
| 0002       | 00015       |        1 |
| 0002       | 00016       |        1 |
| 0002       | 00020       |        1 |
| 0003       | 00001       |        1 |
| 0003       | 00003       |        1 |
| 0003       | 00011       |        1 |
| 0003       | 00014       |        1 |
| 0003       | 00015       |        1 |
| 0003       | 00020       |        1 |
| 0004       | 00001       |        1 |
| 0004       | 00006       |        2 |
| 0004       | 00007       |        2 |
| 0004       | 00008       |        2 |
| 0004       | 00020       |        1 |
| 0005       | 00001       |        1 |
| 0005       | 00008       |        2 |
| 0005       | 00009       |        2 |
| 0005       | 00013       |        1 |
| 0005       | 00021       |        1 |
| 0006       | 00001       |        1 |
| 0006       | 00009       |        3 |
| 0006       | 00018       |        1 |
| 0006       | 00020       |        1 |
| 0006       | 00021       |        1 |
| 9001       | 00001       |        1 |
| 9001       | 00002       |        2 |
| 9001       | 00003       |        2 |
| 9001       | 00004       |        2 |
| 9001       | 00005       |        2 |
| 9001       | 00023       |        1 |
| 9002       | 00001       |        1 |
| 9002       | 00012       |        1 |
| 9002       | 00014       |        1 |
| 9002       | 00015       |        1 |
| 9002       | 00016       |        1 |
| 9002       | 00017       |        1 |
| 9002       | 00018       |        1 |
| 9002       | 00019       |        1 |
| 9002       | 00021       |        1 |
| 9003       | 00001       |        1 |
| 9003       | 00003       |        1 |
| 9003       | 00011       |        1 |
| 9003       | 00014       |        1 |
| 9003       | 00015       |        1 |
| 9003       | 00022       |        1 |
+------------+-------------+----------+
54 rows in set (0.00 sec)

--------------
SELECT P.PNAME, M.MNAME, M.ORIGIN, R.QUANTITY
FROM PRODUCT P
JOIN RECIPE R ON P.PRODUCT_NO = R.PRODUCT_NO
JOIN MATERIAL M ON R.MATERIAL_NO = M.MATERIAL_NO
WHERE P.PNAME = 'マルゲリータ'
--------------

+--------------------+-----------------------------+--------------+----------+
| PNAME              | MNAME                       | ORIGIN       | QUANTITY |
+--------------------+-----------------------------+--------------+----------+
| マルゲリータ       | チーズ                      | 北海道       |        1 |
| マルゲリータ       | モッツァレラチーズ          | 北海道       |        2 |
| マルゲリータ       | バジル                      | イタリア     |        1 |
| マルゲリータ       | トマト                      | 熊本         |        3 |
| マルゲリータ       | トマトソース                | NULL         |        1 |
+--------------------+-----------------------------+--------------+----------+
5 rows in set (0.00 sec)

--------------
SELECT P.PNAME AS PNAME, SUM(M.COST * R.QUANTITY) AS 商品原価
FROM PRODUCT P
JOIN RECIPE R ON P.PRODUCT_NO = R.PRODUCT_NO
JOIN MATERIAL M ON R.MATERIAL_NO = M.MATERIAL_NO
GROUP BY P.PNAME
--------------

+--------------------------+--------------+
| PNAME                    | 商品原価     |
+--------------------------+--------------+
| マルゲリータ             |         1575 |
| デラックスピザ           |         2245 |
| シーフードピザ           |         1110 |
| ギガミート               |         1860 |
| チキン＆ベーコン         |         1595 |
| BBQチキン                |         1350 |
+--------------------------+--------------+
6 rows in set (0.00 sec)

mysql> notee
